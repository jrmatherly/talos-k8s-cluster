#% if victoria_logs_enabled %#
---
#| VMServiceScrape for VictoriaLogs internal metrics #|
#| Scrapes vl_* metrics from the VictoriaLogs server #|
#| Required for VictoriaLogs Single-Node dashboard (gnetId: 22084) #|
apiVersion: operator.victoriametrics.com/v1beta1
kind: VMServiceScrape
metadata:
  name: victoria-logs
  labels:
    app.kubernetes.io/name: victoria-logs
spec:
  namespaceSelector:
    matchNames:
      - observability
  selector:
    matchLabels:
      app.kubernetes.io/name: victoria-logs-single
      app.kubernetes.io/instance: victoria-logs
  endpoints:
    - port: http
      path: /metrics
      interval: 30s
#% endif %#
