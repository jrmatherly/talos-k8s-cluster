#% if victoria_metrics_enabled %#
---
#| Observability Stack - VictoriaMetrics based #|
#| NOTE: Legacy kube-prometheus-stack moved to archive/ #|
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: observability

components:
  - ../../components/sops

resources:
  - ./namespace.yaml
  - ./victoria-metrics/ks.yaml
#% if victoria_logs_enabled %#
  - ./victoria-logs/ks.yaml
#% endif %#
#% if vector_enabled | default(victoria_logs_enabled) %#
  - ./vector/ks.yaml
#% endif %#
#% if kubernetes_event_exporter_enabled | default(victoria_logs_enabled) %#
  - ./kubernetes-event-exporter/ks.yaml
#% endif %#
#% if tempo_enabled %#
  - ./tempo/ks.yaml
#% endif %#
#% if minio_enabled %#
  - ./minio-dashboards/ks.yaml
#% endif %#
#% endif %#

