#| OAuth2-Proxy secrets for GitHub authentication #|
#% if oidc_enabled and oidc_github_enabled %#
---
apiVersion: v1
kind: Secret
metadata:
  name: oauth2-proxy-secret
type: Opaque
stringData:
  client-secret: "#{ oidc_github_client_secret }#"
  #| Cookie secret must be 16, 24, or 32 bytes. Use first 32 chars of client secret or pad if shorter #|
  cookie-secret: "#{ (oidc_github_client_secret ~ 'change-me-to-32-char-random-str')[:32] }#"
#% endif %#
