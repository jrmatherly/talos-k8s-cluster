#% if kgateway_enabled | default(true) %#
#% if kgateway_oauth2_enabled | default(false) and keycloak_enabled and keycloak_oidc_client_secret %#
---
#| ============================================================ #|
#| Secret - Keycloak OIDC client credentials for kgateway       #|
#| Used by GatewayExtension OAuth2 configuration                #|
#| NOTE: This file is SOPS-encrypted during template rendering  #|
#| ============================================================ #|
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-oidc-credentials
type: Opaque
stringData:
  client-secret: "#{ keycloak_oidc_client_secret }#"
#% endif %#
#% endif %#
