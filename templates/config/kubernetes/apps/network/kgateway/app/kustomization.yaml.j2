#% if kgateway_enabled | default(true) %#
---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - helmrelease.yaml
  - certificate.yaml
  - gateway.yaml
  - networkpolicy.yaml
  - referencegrant.yaml
#% if observability_enabled %#
  - podmonitor.yaml
#% endif %#
#% if kgateway_tracing_enabled %#
  - httplistenerpolicy.yaml
#% endif %#
#% if kgateway_oauth2_enabled | default(false) and keycloak_enabled and keycloak_oidc_client_secret %#
  - secret.sops.yaml
  - oauth2.yaml
#% endif %#
#% endif %#

