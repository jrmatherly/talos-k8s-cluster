#% if apisix_enabled %#
---
apiVersion: v1
kind: Secret
metadata:
  name: apisix-credentials
  namespace: apisix-system
type: Opaque
stringData:
  # Keys must be 'admin' and 'viewer' to match Helm chart secretName expectations
  admin: "#{ apisix_admin_key }#"
  viewer: "#{ apisix_viewer_key }#"
#% if workos_client_id %#
---
apiVersion: v1
kind: Secret
metadata:
  name: workos-credentials
  namespace: apisix-system
type: Opaque
stringData:
  client-id: "#{ workos_client_id }#"
  client-secret: "#{ workos_client_secret }#"
#% endif %#
#% if azure_openai_us_east_api_key or azure_openai_us_east2_api_key %#
---
# Azure OpenAI credentials for ai-proxy plugin
# Referenced via $secret://azure-openai-credentials/<key> in route configs
apiVersion: v1
kind: Secret
metadata:
  name: azure-openai-credentials
  namespace: apisix-system
type: Opaque
stringData:
#% if azure_openai_us_east_api_key %#
  us-east-api-key: "#{ azure_openai_us_east_api_key }#"
  us-east-resource: "#{ azure_openai_us_east_resource_name }#"
#% endif %#
#% if azure_openai_us_east2_api_key %#
  us-east2-api-key: "#{ azure_openai_us_east2_api_key }#"
  us-east2-resource: "#{ azure_openai_us_east2_resource_name }#"
#% endif %#
#% endif %#
#% endif %#
