#% if envoy_ai_gateway_enabled and azure_openai_us_east_api_key %#
---
# Chat models (gpt-4.1, gpt-4.1-nano, gpt-4o-mini)
apiVersion: aigateway.envoyproxy.io/v1alpha1
kind: AIServiceBackend
metadata:
  name: azure-openai-us-east-chat
spec:
  schema:
    name: AzureOpenAI
    version: "2025-01-01-preview"
  backendRef:
    group: gateway.envoyproxy.io
    kind: Backend
    name: azure-openai-us-east-backend
---
# Reasoning models (o3, o4-mini) - same schema but may need different timeouts
apiVersion: aigateway.envoyproxy.io/v1alpha1
kind: AIServiceBackend
metadata:
  name: azure-openai-us-east-reasoning
spec:
  schema:
    name: AzureOpenAI
    version: "2025-01-01-preview"
  backendRef:
    group: gateway.envoyproxy.io
    kind: Backend
    name: azure-openai-us-east-backend
---
# Embedding models (text-embedding-3-small, text-embedding-ada-002)
# NOTE: Different API version for embeddings
apiVersion: aigateway.envoyproxy.io/v1alpha1
kind: AIServiceBackend
metadata:
  name: azure-openai-us-east-embedding
spec:
  schema:
    name: AzureOpenAI
    version: "2023-05-15"
  backendRef:
    group: gateway.envoyproxy.io
    kind: Backend
    name: azure-openai-us-east-backend
#% endif %#
