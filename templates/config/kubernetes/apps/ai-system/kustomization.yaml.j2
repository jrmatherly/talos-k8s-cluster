#% set has_agentgateway_external_mcp = agentgateway_enabled | default(false) %#
#% if has_agentgateway_external_mcp or litellm_enabled or cognee_enabled | default(false) %#
---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: ai-system

components:
  - ../../components/sops

resources:
  - ./namespace.yaml
#% if has_agentgateway_external_mcp %#
  - ./mcp-servers/context7/ks.yaml
#% endif %#
#% if litellm_enabled %#
  - ./litellm/ks.yaml
#% endif %#
#% if cognee_enabled | default(false) %#
  - ./cognee/ks.yaml
#% endif %#
#% endif %#
