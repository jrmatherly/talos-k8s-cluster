#% if litellm_enabled %#
---
apiVersion: v1
kind: Secret
metadata:
  name: litellm-secret
type: Opaque
stringData:
  # LiteLLM Core Settings
  LITELLM_MASTER_KEY: "#{ litellm_master_key }#"
  LITELLM_SALT_KEY: "#{ litellm_salt_key }#"

  # Database URL (CloudNativePG)
  # Note: sslmode=disable is safe for internal cluster communication as Cilium provides network encryption
  DATABASE_URL: "postgresql://litellm:#{ litellm_db_password }#@litellm-db-rw.ai-system.svc.cluster.local:5432/litellm?sslmode=disable"

  # Dragonfly (Redis-compatible) Cache
  REDIS_PASSWORD: "#{ litellm_cache_password }#"

#% if azure_openai_us_east_api_key %#
  # Azure OpenAI US East
  AZURE_API_KEY: "#{ azure_openai_us_east_api_key }#"
#% endif %#

#% if azure_openai_us_east2_api_key %#
  # Azure OpenAI US East2
  AZURE_API_KEY_EAST2: "#{ azure_openai_us_east2_api_key }#"
#% endif %#

#% if azure_cohere_rerank_api_key %#
  # Azure Cohere Rerank API
  AZURE_COHERE_RERANK_API_KEY: "#{ azure_cohere_rerank_api_key }#"
#% endif %#

#% if azure_cohere_embed_api_key %#
  # Azure Cohere Embed API
  AZURE_COHERE_EMBED_API_KEY: "#{ azure_cohere_embed_api_key }#"
#% endif %#

#% if azure_anthropic_api_key %#
  # Azure Anthropic API (Claude models via Azure AI)
  AZURE_ANTHROPIC_API_KEY: "#{ azure_anthropic_api_key }#"
#% endif %#

#% if litellm_langfuse_enabled %#
  # Langfuse Observability
  LANGFUSE_PUBLIC_KEY: "#{ litellm_langfuse_public_key }#"
  LANGFUSE_SECRET_KEY: "#{ litellm_langfuse_secret_key }#"
#% endif %#
#% endif %#
