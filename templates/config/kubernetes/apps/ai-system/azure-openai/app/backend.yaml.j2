#% if agentgateway_addr is defined and azure_openai_api_key is defined %#
---
apiVersion: gateway.kgateway.dev/v1alpha1
kind: Backend
metadata:
  name: azure-openai
spec:
  type: llm
  provider: azure-openai
  config:
    resourceName: "#{ azure_openai_resource_name }#"
    deploymentName: "#{ azure_openai_deployment_name }#"
    apiVersion: "#{ azure_openai_api_version | default('2025-04-01-preview') }#"
  authToken:
    kind: SecretRef
    secretRef:
      name: llm-credentials
      key: azure-openai-key
#% endif %#
