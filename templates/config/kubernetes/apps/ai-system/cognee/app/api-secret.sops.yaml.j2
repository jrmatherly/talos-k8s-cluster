#% if cognee_enabled | default(false) and cognee_api_enabled | default(false) %#
---
apiVersion: v1
kind: Secret
metadata:
  name: cognee-api-secrets
type: Opaque
stringData:
  # Database credentials
  DB_PASSWORD: "#{ cognee_db_password if cognee_dedicated_db | default(false) else obot_postgres_password }#"
#% if cognee_dedicated_db | default(false) %#
  COGNEE_DB_DSN: "postgresql://cognee:#{ cognee_db_password }#@cognee-db-rw.ai-system.svc.cluster.local:5432/#{ cognee_db_name | default('cognee') }#"
#% else %#
  COGNEE_DB_DSN: "postgresql://obot:#{ obot_postgres_password }#@obot-db-rw.obot.svc.cluster.local:5432/#{ cognee_db_name | default('cognee') }#"
#% endif %#

  # Neo4j credentials
  GRAPH_DATABASE_PASSWORD: "#{ cognee_neo4j_password }#"

  # LLM API key - Use LiteLLM master key for proxy access
#% if litellm_master_key | default('') %#
  LLM_API_KEY: "#{ litellm_master_key }#"
#% else %#
  # Fallback to Azure OpenAI key if LiteLLM not configured
  LLM_API_KEY: "#{ azure_openai_api_key_us_east | default('') }#"
#% endif %#
#% endif %#
