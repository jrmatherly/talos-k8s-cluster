#% if envoy_ai_gateway_enabled and azure_openai_us_east2_api_key %#
---
# HTTPRouteFilter for injecting x-api-key header from secret
# Used by HTTPRoute for Azure AI Foundry Anthropic authentication
apiVersion: gateway.envoyproxy.io/v1alpha1
kind: HTTPRouteFilter
metadata:
  name: azure-anthropic-credential-injection
spec:
  credentialInjection:
    header: x-api-key
    overwrite: true
    credential:
      valueRef:
        group: ""
        kind: Secret
        name: azure-anthropic-credentials
#% endif %#
