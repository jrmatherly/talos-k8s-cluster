---
# Auth for fast model (claude-haiku-4-5)
# NOTE: Anthropic uses x-api-key header (not api-key like Azure OpenAI)
apiVersion: aigateway.envoyproxy.io/v1alpha1
kind: BackendSecurityPolicy
metadata:
  name: azure-anthropic-fast-auth
spec:
  targetRefs:
    - group: aigateway.envoyproxy.io
      kind: AIServiceBackend
      name: azure-anthropic-fast
  type: APIKey
  apiKey:
    secretRef:
      name: azure-anthropic-credentials
    headerName: x-api-key
---
# Auth for balanced model (claude-sonnet-4-5)
apiVersion: aigateway.envoyproxy.io/v1alpha1
kind: BackendSecurityPolicy
metadata:
  name: azure-anthropic-balanced-auth
spec:
  targetRefs:
    - group: aigateway.envoyproxy.io
      kind: AIServiceBackend
      name: azure-anthropic-balanced
  type: APIKey
  apiKey:
    secretRef:
      name: azure-anthropic-credentials
    headerName: x-api-key
---
# Auth for advanced models (claude-opus-4-5, claude-opus-4-1)
apiVersion: aigateway.envoyproxy.io/v1alpha1
kind: BackendSecurityPolicy
metadata:
  name: azure-anthropic-advanced-auth
spec:
  targetRefs:
    - group: aigateway.envoyproxy.io
      kind: AIServiceBackend
      name: azure-anthropic-advanced
  type: APIKey
  apiKey:
    secretRef:
      name: azure-anthropic-credentials
    headerName: x-api-key
