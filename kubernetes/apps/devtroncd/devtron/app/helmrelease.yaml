---
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: devtron
spec:
  chartRef:
    kind: HelmChart
    name: devtron-operator
  interval: 1h
  timeout: 30m
  values:
    installer:
      modules:
        - cicd
    global:
      storageClass: "proxmox-csi"
    configs:
      BASE_URL_SCHEME: "HTTPS"
      BASE_URL: "devtron.${SECRET_DOMAIN}"
      BLOB_STORAGE_PROVIDER: "MINIO"
      FEATURE_LINK_EXTERNAL_FLUX_ENABLE: "true"
      FEATURE_FLUX_DEPLOYMENTS_ENABLE: "true"
    minio:
      enabled: true
